SELECT BIN_TO_UUID(event_reservations.id) AS reservation_id, event_reservations.name, event_reservations.description ,start_date , finish_date, reservation_start_date, reservation_finish_date, event_reservations.capacity, event_reservations.capacity - count(event_reservation_users.id) AS free_capacity, IF(SUM(event_reservation_users.user_id = UUID_TO_BIN(/*userId*/'aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee')) ,true ,false) AS reservated  FROM event_reservations LEFT JOIN event_reservation_users ON event_reservations.id = event_reservation_users.reservation_id WHERE event_id = UUID_TO_BIN(/*eventId*/'aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee') GROUP BY event_reservations.id
